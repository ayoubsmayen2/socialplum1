(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{242:function(e,t,a){e.exports=a(466)},247:function(e,t,a){},466:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(72),o=a.n(r),c=(a(247),a(30)),i=a(31),s=a(35),u=a(34),m=a(24),d=a(480),h=a(488),g=a(487),f=a(477),p=a(467),E=a(481),v=a(492),b=a(489),y=a(490),C=a(483),w=(a(76),a(46)),I=a(213),k=a.n(I),S=a(214),O=a.n(S).a.initializeApp({apiKey:"AIzaSyBU7In8c9YE-BlenookpL7bGZm48eBv5n8",authDomain:"appchat1-845eb.firebaseapp.com",databaseURL:"https://appchat1-845eb-default-rtdb.firebaseio.com/",projectId:"appchat1-845eb",storageBucket:"appchat1-845eb.appspot.com",messagingSenderId:"1036099898203"}),j=a(484),T=a(212),A=a(147),R=a(476),B=a(486),x=a(479),L=a(478);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var l=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var D=function(e){Object(s.a)(a,e);var t=P(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.componentDidMount=function(){n.setState({loading:!0}),O.auth().onAuthStateChanged(function(e){e?n.setState({loggedIn:!0}):n.setState({loggedIn:!1,showArticle:!1})}),O.database().ref("/feed/").on("value",function(e){var t=e.val(),a=[],l=[];for(var r in t)a.push(t[r]),l.push(r);n.setState({list:a,keys:l,loading:!1})})},n.showArticle=function(){n.setState({showArticle:!n.state.showArticle})},n.new=function(e){n.setState({loading:!0,showArticle:!1}),e.preventDefault();var t=n.state.title,a=n.state.description,l=n.state.picture,r=k()().format("LLL"),o=O.auth().currentUser;O.database().ref("feed/".concat(o.uid,"/")).push({title:t,description:a,picture:l,score:1,timestamp:r,user:o.email}).then(function(){n.setState({loading:!1})})},n.upvote=function(e,t){O.database().ref("/feed/".concat(n.state.keys[t],"/").concat(Object.keys(n.state.list[t])[e])).once("value",function(a){var l=a.val().score;n.setState({score:l},function(){return n.up(e,t)})})},n.up=function(e,t){O.database().ref("/feed/".concat(n.state.keys[t],"/").concat(Object.keys(n.state.list[t])[e])).update({score:n.state.score+1})},n.downvote=function(e,t){O.database().ref("/feed/".concat(n.state.keys[t],"/").concat(Object.keys(n.state.list[t])[e])).once("value",function(a){var l=a.val().score;n.setState({score:l},function(){return n.down(e,t)})})},n.down=function(e,t){O.database().ref("/feed/".concat(n.state.keys[t],"/").concat(Object.keys(n.state.list[t])[e])).update({score:n.state.score-1})},n.state={loading:!0,title:"",description:"",picture:"",list:[],keys:[],show:!1,showArticle:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.list.map(function(t,a){return Object.values(t).map(function(t,n){return l.a.createElement("div",null,l.a.createElement(b.a.Column,{mobile:16,tablet:4,computer:4},l.a.createElement(j.a,null,l.a.createElement(p.a,{id:"mainIMG",src:t.picture}),l.a.createElement(j.a.Content,null,l.a.createElement(T.a,{as:"p",color:"white",size:"large",ribbon:!0},"LUMENS : ",t.score),l.a.createElement(j.a.Header,{style:{paddingTop:"2vh"}},t.title),l.a.createElement(j.a.Description,null,t.description)),l.a.createElement(j.a.Content,{extra:!0},l.a.createElement("p",null,l.a.createElement(A.a,{name:"user",style:{marginRight:"5%"}}),"by ",t.user),l.a.createElement(R.a,null),l.a.createElement("p",null,l.a.createElement(A.a,{name:"clock",style:{marginRight:"5%"}}),t.timestamp),e.state.loggedIn?l.a.createElement("div",null,l.a.createElement(R.a,null),l.a.createElement("div",{class:"ui buttons fluid"},l.a.createElement("button",{icon:!0,onClick:function(){return e.upvote(n,a)},class:"ui button compact green",style:{paddingTop:"1vh",paddingBottom:"1vh"}},l.a.createElement(A.a,{name:"angle up"})),l.a.createElement("button",{icon:!0,onClick:function(){return e.downvote(n,a)},class:"ui compact button black",style:{paddingTop:"1vh",paddingBottom:"1vh"}},l.a.createElement(A.a,{name:"angle down"})))):null)),l.a.createElement("br",null)))})});return l.a.createElement("div",{style:{backgroundColor:"#f9f9f9",marginTop:"0vh"}},l.a.createElement(b.a,{style:{marginTop:"0vh",minHeight:"100vh"}},l.a.createElement(b.a.Column,{id:"headerContainer"},this.state.loggedIn?l.a.createElement("div",{style:{paddingTop:"2vh",paddingBottom:"2vh"}},this.state.showArticle?null:l.a.createElement(B.a,{color:"green",fluid:!0,onClick:this.showArticle,size:"compact"},"CREATE LUMEN")):null,this.state.showArticle?l.a.createElement(f.a,{fluid:!0,style:{paddingBottom:"4vh"}},l.a.createElement("h1",null,"Be original"),l.a.createElement(x.a,null,l.a.createElement(x.a.Group,{widths:"equal"},l.a.createElement(x.a.Input,{fluid:!0,value:this.state.title,onChange:this.handleChange,name:"title",label:"A cool title",required:!0}),l.a.createElement(x.a.Input,{fluid:!0,value:this.state.picture,onChange:this.handleChange,name:"picture",label:"Picture URL",required:!0})),l.a.createElement(x.a.TextArea,{autoHeight:!0,rows:4,value:this.state.description,onChange:this.handleChange,name:"description",label:"What's on your mind?",required:!0}),l.a.createElement(B.a,{animated:"vertical",color:"black",size:"small",onClick:this.new},l.a.createElement(B.a.Content,{visible:!0},"SUBMIT"),l.a.createElement(B.a.Content,{hidden:!0},l.a.createElement(A.a,{name:"plus"}))),l.a.createElement(B.a,{id:"formBTN",animated:"vertical",color:"white",size:"small",onClick:this.showArticle},l.a.createElement(B.a.Content,{visible:!0},"CANCEL"),l.a.createElement(B.a.Content,{hidden:!0},l.a.createElement(A.a,{name:"cancel"}))))):null,this.state.loading?l.a.createElement("div",null,l.a.createElement(L.a,{style:{marginTop:"25%"},active:!0,inline:"centered"})):null,l.a.createElement(b.a,{textAlign:"center",style:{marginTop:"2%"}},t))))}}]),a}(n.Component),M=a(482),U=a(491);function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var l=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var H=function(e){Object(s.a)(a,e);var t=z(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentWillMount=function(){O.auth().onAuthStateChanged(function(e){e?(n.setState({loggedIn:!0,showSetting:!0}),n.account()):n.setState({loading:!1,loggedIn:!1})})},n.handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.account=function(){var e=O.auth().currentUser;O.database().ref("feed/".concat(e.uid,"/")).on("value",function(e){var t=e.val(),a=[],l=[];for(var r in t)a.push(t[r]),l.push(r);console.log(a),n.setState({list:a,keys:l,loading:!1})})},n.delete=function(e){n.setState({modal:!0});var t=O.auth().currentUser;O.database().ref("feed/".concat(t.uid,"/").concat(n.state.keys[e])).remove()},n.edit=function(e){n.setState({showEdit:!n.state.showEdit})},n.update=function(e){var t=O.auth().currentUser;n.setState({loading:!0}),O.database().ref("feed/".concat(t.uid,"/").concat(n.state.keys[e])).update({title:n.state.updateTitle,description:n.state.updateDescription,picture:n.state.updatePicture}).then(function(){n.setState({loading:!1})})},n.state={email:"",password:"",loading:!0,error:!1,loggedIn:!0,showSetting:!1,showEdit:!1,list:[],score:"",modal:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.list.map(function(t,a){return l.a.createElement("div",null,l.a.createElement(M.a,{fixed:!0,stackable:!0,style:{marginTop:"4vh",marginBottom:"0vh"}},l.a.createElement(M.a.Body,null,l.a.createElement(M.a.Cell,{width:2},l.a.createElement(p.a,{rounded:!0,id:"smallIMG",src:t.picture,verticalAlign:"middle"})),l.a.createElement(M.a.Cell,{width:3},l.a.createElement("h3",null,t.title)),l.a.createElement(M.a.Cell,{width:2},l.a.createElement("h5",null,"Score : ",t.score)),l.a.createElement(M.a.Cell,{width:3},t.timestamp),l.a.createElement(M.a.Cell,{textAlign:"right",width:2}," ",l.a.createElement(B.a,{size:"tiny",basic:!0,color:"red",onClick:function(){return e.delete(a)}},l.a.createElement("i",{class:"icon close"}),"DELETE")))),l.a.createElement(U.a,{visible:e.state.showEdit,animation:"fade",duration:400},l.a.createElement(x.a,{style:{paddingBottom:"8vh",paddingTop:"2vh"}},l.a.createElement(x.a.Group,{widths:"equal"},l.a.createElement(x.a.Input,{onChange:e.handleChange,name:"updateTitle",placeholder:t.title,required:!0}),l.a.createElement(x.a.Input,{fluid:!0,onChange:e.handleChange,name:"updatePicture",placeholder:t.picture,required:!0})),l.a.createElement(x.a.TextArea,{rows:4,onChange:e.handleChange,name:"updateDescription",placeholder:t.description,required:!0}),l.a.createElement(B.a,{as:"div",compact:!0,labelPosition:"left",size:"small",onClick:function(){return e.update(a)}},l.a.createElement(T.a,{as:"span",color:"black"},"UPDATE"),l.a.createElement(B.a,{color:"yellow",icon:!0,compact:!0},l.a.createElement(A.a,{name:"pencil",color:"black"}))))))});return l.a.createElement("div",{style:{backgroundColor:"#f9f9f9",marginTop:"0vh",minHeight:"100vh"}},l.a.createElement("div",{id:"headerContainer",style:{marginTop:"0vh",minHeight:"100vh"}},this.state.loggedIn?l.a.createElement("div",null,l.a.createElement(y.a,{as:"h2",style:{paddingTop:"3vh",marginTop:"0vh"}},l.a.createElement(A.a,{name:"setting"}),l.a.createElement(y.a.Content,null,"Manage Account")),l.a.createElement(R.a,null),this.state.showSetting?l.a.createElement(B.a,{color:this.state.showEdit?"white":"green",size:"small",onClick:function(){return e.edit()}},l.a.createElement(B.a.Content,{visible:!0},this.state.showEdit?"DISABLE EDIT MODE":"ENABLE EDIT MODE")):null):null,this.state.showSetting?l.a.createElement("div",null,t):null,this.state.loading?l.a.createElement(L.a,{style:{marginTop:"5%"},active:!0,inline:"centered"}):null))}}]),a}(n.Component),W=a(485);function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var l=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var N=function(e){Object(s.a)(a,e);var t=q(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){O.auth().onAuthStateChanged(function(e){e?n.setState({loading:!1,loggedIn:!0}):n.setState({loading:!1,loggedIn:!1})})},n.login=function(e){n.setState({loading:!0,error:!1}),e.preventDefault(),O.auth().signInWithEmailAndPassword(n.state.email,n.state.password).then(function(e){n.setState({loading:!1}),n.props.history.push("/")}).catch(function(e){n.setState({error:!0,loading:!1})})},n.handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",loading:!0,error:!1,loggedIn:!0,remember:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(b.a,{style:{backgroundColor:"#f9f9f9",marginTop:"0vh",minHeight:"95vh"}},l.a.createElement(b.a.Column,{id:"headerContainer"},this.state.loggedIn?null:l.a.createElement(y.a,{style:{marginTop:"20vh",textAlign:"center"},as:"h2"},l.a.createElement(y.a.Content,null,"Log in to your account")),this.state.loggedIn?null:l.a.createElement(x.a,{id:"loginForm",style:{maxWidth:450}},l.a.createElement("br",null),this.state.error?l.a.createElement("div",null,l.a.createElement(W.a,{negative:!0},l.a.createElement(W.a.Header,null,"Please double-check and try again"),l.a.createElement("p",null,"The password you entered did not match our records."))):null,l.a.createElement("br",null),l.a.createElement(x.a.Input,{fluid:!0,icon:"user",iconPosition:"left",type:"text",onChange:this.handleChange,placeholder:"Email",name:"email",autoComplete:"username"}),l.a.createElement(x.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",onChange:this.handleChange,placeholder:"Password",name:"password",autoComplete:"current-password",type:"password"}),l.a.createElement("div",{class:"ui buttons fluid"},l.a.createElement("button",{onClick:this.login,class:"ui button green"},"Log in")),l.a.createElement(R.a,{hidden:!0,clearing:!0}),"New to Lumen? ",l.a.createElement("a",{href:"/signup"},"Create an account")),this.state.loggedIn?l.a.createElement("p",{style:{marginTop:"2%"}},"What are you looking for?"):null,this.state.loading?l.a.createElement(L.a,{style:{marginTop:"5%"},active:!0,inline:"centered"}):null))}}]),a}(n.Component);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var l=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var J=function(e){Object(s.a)(a,e);var t=G(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.componentDidMount=function(){O.auth().onAuthStateChanged(function(e){e?n.setState({loading:!1,loggedIn:!0}):n.setState({loading:!1,loggedIn:!1})})},n.signup=function(e){n.setState({loading:!0,error:!1}),e.preventDefault(),O.auth().createUserWithEmailAndPassword(n.state.email,n.state.password).then(function(e){}).then(function(e){n.setState({loading:!1}),n.props.history.push("/")}).catch(function(e){n.setState({error:!0,loading:!1})})},n.state={email:"",password:"",loading:!0,error:!1,loggedIn:!0},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(b.a,{style:{backgroundColor:"#f9f9f9",marginTop:"0vh",minHeight:"95vh"}},l.a.createElement(b.a.Column,{id:"headerContainer"},this.state.loggedIn?null:l.a.createElement("div",null,l.a.createElement("h2",{style:{marginTop:"20vh",textAlign:"center"}},"Join Lumen"),l.a.createElement("p",{style:{textAlign:"center"}},"The best way to discover trends and express yourself.")),this.state.loggedIn?null:l.a.createElement(x.a,{id:"loginForm",style:{maxWidth:450}},l.a.createElement("br",null),this.state.error?l.a.createElement(W.a,{negative:!0},l.a.createElement(W.a.Header,null,"The email you entered is already in use"),l.a.createElement("p",null,"Please choose another one or ",l.a.createElement("a",{href:"/login"},"login")," to your account.")):null,l.a.createElement("br",null),l.a.createElement(x.a.Input,{fluid:!0,icon:"user",iconPosition:"left",type:"text",onChange:this.handleChange,placeholder:"Email",name:"email",autoComplete:"username"}),l.a.createElement(x.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",onChange:this.handleChange,placeholder:"Password",name:"password",autoComplete:"current-password",type:"password"}),l.a.createElement("div",{class:"ui buttons fluid"},l.a.createElement("button",{onClick:this.signup,class:"ui button green"},"Sign up for Lumen")),l.a.createElement(R.a,{hidden:!0,clearing:!0}),l.a.createElement("p",null,"Your password must not contain spaces, special characters, or emojis. By continuing you agree to our"," ",l.a.createElement("a",{href:"#"},"terms of services"),".")),this.state.loggedIn?l.a.createElement("p",{style:{marginTop:"2%"}},"What are you looking for?"):null,this.state.loading?l.a.createElement(L.a,{style:{marginTop:"5%"},active:!0,inline:"centered"}):null))}}]),a}(n.Component);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var l=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var F=function(e){Object(s.a)(a,e);var t=Y(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({loading:!0}),O.auth().onAuthStateChanged(function(e){e?n.setState({loggedIn:!0,loading:!1}):n.setState({loggedIn:!1,loading:!1})})},n.state={loggedIn:null},n}return Object(i.a)(a,[{key:"logout",value:function(e){O.auth().signOut(),this.setState({loading:!0})}},{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(g.a,{borderless:!0,style:{border:"none",borderRadius:0,boxShadow:"none",marginBottom:"0em"}},l.a.createElement(f.a,{text:!0},l.a.createElement(g.a.Item,null,l.a.createElement(p.a,{size:"mini",src:"https://image.flaticon.com/icons/svg/888/888868.svg"})),l.a.createElement(g.a.Item,{header:!0},"Lumen"),l.a.createElement(g.a.Item,{as:"a",href:"/",icon:"home"},"Home"),l.a.createElement(g.a.Item,{as:"a",target:"blank",href:"https://github.com/usfslk/Lumen"},"Docs"),l.a.createElement(g.a.Menu,{position:"right"},l.a.createElement(E.a,{text:"Account",pointing:!0,className:"link item"},l.a.createElement(E.a.Menu,null,!this.state.loading&&this.state.loggedIn&&l.a.createElement(E.a.Item,{href:"/account"},"Your Profile"),!this.state.loading&&!this.state.loggedIn&&l.a.createElement("div",null,l.a.createElement(E.a.Item,{href:"/login"},"Log in"),l.a.createElement(E.a.Item,{href:"/signup"},"Sign up")),!this.state.loading&&this.state.loggedIn&&l.a.createElement(E.a.Item,{href:"/",onClick:this.logout},"Sign out")))))),l.a.createElement(h.a,{exact:!0,path:"/",component:D}),l.a.createElement(h.a,{path:"/Account",component:H}),l.a.createElement(h.a,{path:"/Login",component:N}),l.a.createElement(h.a,{path:"/Signup",component:J}),l.a.createElement(v.a,{vertical:!0,style:{padding:"5em 0em"}},l.a.createElement(f.a,null,l.a.createElement(b.a,{divided:!0,stackable:!0},l.a.createElement(b.a.Row,null,l.a.createElement(b.a.Column,{width:4},l.a.createElement(y.a,{as:"h4",content:"Links"}),l.a.createElement(C.a,{link:!0},l.a.createElement(C.a.Item,{as:"a"},"Sitemap"),l.a.createElement(C.a.Item,{as:"a"},"Contact"))),l.a.createElement(b.a.Column,{width:4},l.a.createElement(y.a,{as:"h4",content:"Legal"}),l.a.createElement(C.a,{link:!0},l.a.createElement(C.a.Item,{as:"a"},"Privacy Policy"),l.a.createElement(C.a.Item,{as:"a"},"Terms of Service"))),l.a.createElement(b.a.Column,{width:4},l.a.createElement(y.a,{as:"h4"},"Social"),l.a.createElement(C.a,{link:!0},l.a.createElement(C.a.Item,{as:"a"},"Twitter"),l.a.createElement(C.a.Item,{as:"a"},"Instagram")))))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){}},[[242,2,1]]]);
//# sourceMappingURL=main.d0129680.chunk.js.map